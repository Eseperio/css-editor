<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSS Editor - Iframe Mode Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      overflow: hidden;
    }

    .instructions {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255, 255, 255, 0.95);
      padding: 15px 30px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 10000;
      max-width: 600px;
      text-align: center;
    }

    .instructions h2 {
      margin-bottom: 10px;
      color: #667eea;
      font-size: 20px;
    }

    .instructions p {
      color: #555;
      font-size: 14px;
      line-height: 1.5;
    }

    .instructions .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: #999;
    }

    .instructions .close-btn:hover {
      color: #333;
    }
  </style>
</head>
<body>
  <div class="instructions" id="instructions">
    <button class="close-btn" onclick="document.getElementById('instructions').style.display='none'">&times;</button>
    <h2>üé® Iframe Mode Demo</h2>
    <p>
      <strong>How to use:</strong><br>
      1. Click the activation button at the top<br>
      2. Click any element in the iframe to edit its styles<br>
      3. Use the viewport buttons (üñ•Ô∏è üì± üì±) to switch between Desktop, Tablet, and Phone views<br>
      4. Styles for Tablet/Phone modes are automatically wrapped in media queries
    </p>
  </div>

  <!-- Load the CSS Editor library -->
  <script src="../dist/css-editor.js"></script>
  <script>
    // Initialize the CSS Editor in iframe mode
    const editor = new CSSEditor.CSSEditor({
      // Enable iframe mode
      iframeMode: {
        url: 'iframe-content.html', // URL to load in iframe
        viewportSizes: {
          desktop: window.innerWidth - 20, // Full width minus some margin
          tablet: 768,  // Tablet viewport
          phone: 480    // Phone viewport
        }
      },
      
      // Optional: Custom save callback
      onSave: (css) => {
        console.log('Generated CSS:', css);
        // You can save this CSS to your backend or localStorage
        localStorage.setItem('iframe-css', css);
        alert('CSS saved! Check console for details.');
      },
      
      // Optional: Custom load callback
      onLoad: async () => {
        return localStorage.getItem('iframe-css') || '';
      },
      
      // Optional: onChange callback to see live changes
      onChange: (css) => {
        console.log('CSS changed:', css);
      }
    });

    // Initialize the editor
    editor.init();
  </script>
</body>
</html>
